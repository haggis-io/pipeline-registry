syntax = "proto3";

package registry;

import "document.proto";


service Registry {
    rpc GetDocuments (GetDocumentsRequest) returns (GetDocumentsResponse);
    rpc GetDocument (GetDocumentRequest) returns (GetDocumentResponse);
    rpc CreateDocument (CreateDocumentRequest) returns (GetDocumentResponse);
    rpc MarkAsApproved(ApprovedDocumentRequest) returns (ApprovedDocumentResponse);
    rpc MarkAsDeclined(DeclinedDocumentRequest) returns (DeclinedDocumentResponse);
    rpc MarkAsPending(PendingDocumentRequest) returns (PendingDocumentResponse);
}

message GetDocumentsRequest {
    string version = 1;
    string author = 2;
    Status status = 3;
    int32 limit = 4;
}

message GetDocumentsResponse {
    repeated Document Documents = 1;
}

message GetDocumentRequest {
    string name = 1;
    string version = 2;
}

message GetDocumentResponse {
    Document Document = 1;
}

message CreateDocumentRequest {
    Document Document = 1;
}

message CreateDocumentResponse {
    Document Document = 1;
}

message ApprovedDocumentRequest {
    string name = 1;
    string version = 2;
}

message ApprovedDocumentResponse {
    Document Document = 1;
}

message DeclinedDocumentRequest {
    string name = 1;
    string version = 2;
}

message DeclinedDocumentResponse {
    Document Document = 1;
}

message PendingDocumentRequest {
    string name = 1;
    string version = 2;
}

message PendingDocumentResponse {
    Document Document = 1;
}
